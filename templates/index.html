<!DOCTYPE html>
<html>

  <head>
    <link rel="icon" href="data:,">
    <meta charset="UTF-8">
    <title>Simple Recorder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>

  <body>
    <h1>Welcome to our Banking App.</h1>
    <h3>Please use a unique ID to login. Use andrew ID if CMU student.<br>
    If this is your first time, please choose a login ID.</h3><br><br>

    <form method="POST" action="/logintest">
      <input type="text" name="login_id"><br><br>
      <input type="submit" value="Submit">
    </form>
    
    
    <br><br><br><br>
    <div id="container"/>
    <script type="text/javascript">
      var myvariable= {{ myvariable|tojson }}
      var login_id= {{ login|tojson }}
      var delayInMilliseconds = 3000;
      var container = document.getElementById("container");
      console.log(typeof myvariable, myvariable)

      if (myvariable !== ""){
        container.appendChild(document.createTextNode(myvariable))
        container.appendChild(document.createElement("br"))
        container.appendChild(document.createElement("br"))
        container.appendChild(document.createTextNode('Redirecting in 3 seconds....'))

        // add a timer
        setTimeout(function() {
          console.log('Did the delay')
          nexturl = '/recording/' + login_id
          console.log(nexturl)
          window.location.href = nexturl;
        }, delayInMilliseconds);
      }

    </script>
  </body>
</html>
